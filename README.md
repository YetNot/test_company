# test_company

Мы используем sync.RWMutex для обеспечения поточно-ориентированного доступа к карте данных.

Функция NewKeyValueStorage создает новый экземпляр KeyValueStorage и запускает процедуру очистки в отдельной горутине. Процедура очистки прослушивает ключи с истекшим сроком действия на канале очистки и удаляет их.

Метод Set устанавливает пару ключ-значение в хранилище. Если указан TTL (время жизни), он устанавливает срок действия ключа.

Метод Get извлекает значение, связанное с ключом, из хранилища. Если ключ не существует, возвращается ноль. Если срок действия ключа уже истек, он запускает процедуру очистки для удаления ключа и возвращает ноль.

Метод Delete удаляет пару ключ-значение из хранилища.

Функция startCleanupRoutine — это процедура очистки, которая запускается в отдельной горутине. Он прослушивает ключи с истекшим сроком действия на канале очистки и удаляет их. Он также прослушивает сигнал выключения на канале выключения, чтобы корректно выйти из процедуры.

Метод Shutdown отправляет сигнал на канал выключения, чтобы инициировать выключение хранилища. Это остановит процедуру очистки и позволит приложению корректно завершить работу.

Эта реализация хранит все в оперативной памяти и не требует каких-либо внешних сервисов или передачи данных по сети. Он гарантирует сложность извлечения запрошенных элементов либо O(log N), либо O(1), в зависимости от конкретной операции.

Для сборки прописываем в bash: make build

Для запуска прописываем в bash: make run
